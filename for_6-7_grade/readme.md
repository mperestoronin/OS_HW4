# Отчет на 6-7 баллов

ВАЖНО ОТМЕТИТЬ:
Теперь для запуска кода садовника также необходимо дать ему индекс, вот пример:<br>
./gardener 1 127.0.0.1 8081
./gardener 2 127.0.0.1 8081

Данный программный комплекс состоит из четырех компонентов: сервера (server.c), клиентов-садовников (gardener.c), клиента-клумбы (flowerbed.c) и клиента-наблюдателя (spectator.c). Эти компоненты взаимодействуют друг с другом через протокол UDP, что позволяет им работать на одной машине или на разных машинах в сети.

Сервер (server.c) является центральным элементом системы. Сервер реализован с использованием функций для работы с сокетами (socket, bind, recvfrom, sendto), что позволяет ему получать и отправлять сообщения от и к клиентам. Сервер обрабатывает следующие команды от клиентов: "wilted", "water", "done" и "register_spectator", обновляя состояние цветов и решая, можно ли садовнику поливать определенный цветок.

Садовники (gardener.c) периодически пытаются поливать случайные цветы. Они отправляют серверу команду "water", указывая индекс цветка и идентификатор садовника. Если сервер разрешает полив, садовник "поливает" цветок, ожидая некоторое время, и затем сообщает серверу, что полив завершен, отправляя команду "done".

Клиент-клумба (flowerbed.c) периодически делает случайные цветы увядшими и сообщает серверу о том, что цветок увял, отправляя команду "wilted". Когда сервер подтверждает, что цветок был полит, клиент-клумба делает цветок снова здоровым.

Наблюдатель (spectator.c) регистрируется на сервере и принимает сообщения от него о действиях, происходящих в системе. Он просто выводит эти сообщения на экран.

Все клиенты используют функции socket, sendto и recv для создания сокета и отправки и получения сообщений. Клиенты принимают IP-адрес и порт сервера как аргументы командной строки, что позволяет их легко настраивать для работы в любой сетевой среде.

Все приложения также используют функцию nanosleep или sleep для имитации задержек в действиях, таких как цветы, становящиеся увядшими, или садовники, поливающие цветы. Также используется функция rand, чтобы добавить элемент случайности в выбор цветка для полива или увядания.
![](https://github.com/mperestoronin/OS_HW4/blob/main/for_6-7_grade/for7points.png)
